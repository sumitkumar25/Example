<!DOCTYPE html>
<html ng-app="exampleApp">
<head>
    <title>Forms</title>
    <script src="../vendor/js/angular.js"></script>
    <link href="../vendor/css/bootstrap.css" rel="stylesheet"/>
    <link href="../vendor/css/bootstrap-theme.css" rel="stylesheet"/>
    <script src="controller.js"></script>
    <!-- <script>
         angular.module("exampleApp", [])
                 app.controller('firstCTRL', function ($scope, $rootScope) {
                     $scope.$on("zipCodeUpdated", function (event, args) {
                         $scope[args.type] = args.zipCode;
                     })
                     $scope.setAddress = function (type, zip) {
                         $rootScope.$broadcast("zipCodeUpdated", {type: type, zipCode: zip})
                         console.log("Type : " + type + " " + zip);
                     }
                     $scope.copyAddress = function () {
                         $scope.zip = $scope.billingZip;
                     }
                 })
                 .controller("serviceController", function ($scope, zipCode) {
                     $scope.$on("zipCodeUpdated", function (event, args) {
                         $scope[args.type] = args.zipCode;
                     })
                     $scope.setAddress = function (type, zip) {
                         zipCode.setZipCode(type, zip);
                         console.log("Type : " + type + " " + zip);
                     }
                     $scope.copyAddress = function () {
                         $scope.zip = $scope.billingZip;
                     }
                 }).service("zipCode", function ($rootScope) {
             return {
                 setZipCode: function (type, zip) {
                     this[type] = zip;
                     $rootScope.$broadcast("zipCodeUpdated", {type: type, zipCode: zip})
                 }
             }
         })
     </script>-->
</head>
<body>
<main class="container">
    <div class="row">
        <h1>Scope communication</h1>

        <!-- <div class="col-lg-6" ng-controller="firstCTRL">
             <h2>CTRL Instance 1</h2>

             <h3>Billing zip code</h3>

             <div class="form-control">
                 <input class="form-control" ng-model="zip">
             </div>
             <button class="btn btn-primary" ng-click="setAddress('billingZip',zip)">Save Billing</button>
         </div>
         <div class="col-lg-6" ng-controller="firstCTRL">
             <h2>CTRL instance 2</h2>

             <h3>Shipping zip code</h3>

             <div class="form-control">
                 <input class="form-control" ng-model="zip">
             </div>
             <button class="btn btn-primary" ng-click="copyAddress()">
                 Use Billing
             </button>
             <button class="btn btn-primary" ng-click="setAddress('shippingZip',zip)">Save Shipping</button>
         </div>
         <div class="col-lg-12">
             <div class="row">
                 <h2>Service to mediate scope events</h2>

                 <div class="col-lg-6" ng-controller="serviceController">
                     <h2>CTRL Instance 1</h2>

                     <h3>Billing zip code</h3>

                     <div class="form-control">
                         <input class="form-control" ng-model="zip">
                     </div>
                     <button class="btn btn-primary" ng-click="setAddress('billingZip',zip)">Save Billing</button>
                 </div>
                 <div class="col-lg-6" ng-controller="serviceController">
                     <h2>CTRL instance 2</h2>

                     <h3>Shipping zip code</h3>

                     <div class="form-control">
                         <input class="form-control" ng-model="zip">
                     </div>
                     <button class="btn btn-primary" ng-click="copyAddress()">
                         Use Billing
                     </button>
                     <button class="btn btn-primary" ng-click="setAddress('shippingZip',zip)">Save Shipping</button>
                 </div>
             </div>-->
    </div>
    <div class="col-lg-12">
        <div class="row" ng-controller="topLevelCtrl">
            <div class="well">
                <h4>Top Level Controller</h4>

                <div class="input-group">
                            <span class="input-group-btn">
                            <button class="btn btn-default" type="button"
                                    ng-click="reverseText()">Reverse
                            </button>
                            <button class="btn btn-default" type="button"
                                    ng-click="changeCase()">Case
                            </button>
                            </span>
                    <input class="form-control" ng-model="data.dataValue">
                </div>
            </div>
            <div class="well" ng-controller="firstChildCtrl">
                <h4>First Child Controller</h4>

                <div class="input-group">
                            <span class="input-group-btn">
                            <button class="btn btn-default" type="button"
                                    ng-click="reverseText()">Reverse
                            </button>
                            <button class="btn btn-default" type="button"
                                    ng-click="changeCase()">Case
                            </button>
                            </span>
                    <input class="form-control" ng-model="data.dataValue">
                </div>
            </div>
            <div class="well" ng-controller="secondChildCtrl">
                <h4>Second Child Controller</h4>

                <div class="input-group">
                                <span class="input-group-btn">
                                <button class="btn btn-default" type="button"
                                        ng-click="reverseText()">Reverse
                                </button>
                                <button class="btn btn-default" type="button"
                                        ng-click="changeCase()">Case
                                </button>
                                <button class="btn btn-default" type="button"
                                        ng-click="shiftFour()">Shift
                                </button>
                                </span>
                    <input class="form-control" ng-model="data.dataValue">
                </div>
            </div>

        </div>
    </div>
    </div>
</main>
</body>
</html>